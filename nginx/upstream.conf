# Upstream configurations for production
upstream api_backend {
    least_conn;
    server databot-api:8080 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

upstream admin_backend {
    server databot-admin:8082 max_fails=2 fail_timeout=30s;
}

upstream blockchain_backend {
    server databot-blockchain:8334 max_fails=2 fail_timeout=30s;
}

upstream graphql_backend {
    server databot-api:8083 max_fails=2 fail_timeout=30s;
}
